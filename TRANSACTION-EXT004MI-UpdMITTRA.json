{"programModules":{"EXT004MI":{"program":"EXT004MI","triggers":{},"transactions":{"UpdMITTRA":{"sourceUuid":"7f60ab55-32ad-4e00-a727-ba6b5125527d","name":"UpdMITTRA","program":"EXT004MI","description":"Update fields in MITTRA","active":true,"multi":false,"modified":1690269747846,"modifiedBy":"MODBOYANA","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":true,"type":"N"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A"},{"name":"ITNO","description":"Item number","length":15,"mandatory":true,"type":"A"},{"name":"RGDT","description":"Entry date","length":8,"mandatory":true,"type":"N"},{"name":"RGTM","description":"Entry time","length":6,"mandatory":true,"type":"N"},{"name":"TMSX","description":"Time suffix","length":3,"mandatory":true,"type":"N"},{"name":"ANBR","description":"Accounting number","length":12,"mandatory":false,"type":"N"},{"name":"MFCO","description":"Acquisition cost","length":17,"mandatory":false,"type":"N"},{"name":"TRPR","description":"Inventory accounting price","length":17,"mandatory":false,"type":"N"},{"name":"RESP","description":"Responsible","length":10,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"7f60ab55-32ad-4e00-a727-ba6b5125527d":{"uuid":"7f60ab55-32ad-4e00-a727-ba6b5125527d","updated":1690569415171,"updatedBy":"MODBOYANA","created":1690269363013,"createdBy":"MODBOYANA","apiVersion":"0.15","beVersion":"16.0.0.20230516150031.5","language":"GROOVY","codeHash":"E3F1C4805F00EEFF1F6FCA125B56AD1EA6F3BF38F4DAAAC6D3B82FCAB7E3D489","code":"LyoqDQogKiAgQnVzaW5lc3MgRW5naW5lIEV4dGVuc2lvbg0KICovDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRXh0ZW5zaW9uIE5hbWU6IEVYVDAwNE1JLlVwZE1JVFRSQQ0KVHlwZSA6IEV4dGVuZE0zVHJhbnNhY3Rpb24NClNjcmlwdCBBdXRob3I6IE1vZGlib3lhbmEgSW5kcmVzaA0KRGF0ZTogIDIwMjMtMDctMjANCg0KRGVzY3JpcHRpb246IFRoaXMgRXh0ZW5zaW9uIGlzIHVzZWQgdG8gbW9kaWZ5IEFOQlIsVFJQUixNRkNPIGFuZCBSRVNQIGZpZWxkcyBpbiBNSVRUUkEgdGFibGUuDQoNClJldmlzaW9uIEhpc3Rvcnk6DQogIE5hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlICAgICAgICAgIFZlcnNpb24gICAgICAgICBEZXNjcmlwdGlvbiBvZiBDaGFuZ2VzDQpNb2RpYm95YW5hIEluZHJlc2ggICAgICAgICAgICAgICAyMDIzLTA3LTIwICAgICAgICAxLjAgICAgICAgICAgICAgSW5pdGlhbCBWZXJzaW9uDQoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTsNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxUaW1lOw0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7DQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZVBhcnNlRXhjZXB0aW9uOw0KDQpwdWJsaWMgY2xhc3MgVXBkTUlUVFJBIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2U7DQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtOw0KDQogIC8vIHZhcmlhYmxlIGRlY2xhcmF0aW9uDQogIHByaXZhdGUgaW50IGluQ09OTzsNCiAgcHJpdmF0ZSBTdHJpbmcgaW5XSExPOw0KICBwcml2YXRlIFN0cmluZyBpbklUTk87DQogIHByaXZhdGUgaW50IGluUkdEVDsNCiAgcHJpdmF0ZSBpbnQgaW5SR1RNOw0KICBwcml2YXRlIGludCBpblRNU1g7DQogIHByaXZhdGUgbG9uZyBpbkFOQlI7DQogIHByaXZhdGUgZmxvYXQgaW5UUlBSOw0KICBwcml2YXRlIGZsb2F0IGluTUZDTzsNCiAgcHJpdmF0ZSBTdHJpbmcgaW5SRVNQOw0KDQogIHB1YmxpYyBVcGRNSVRUUkEoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0pIHsNCiAgICB0aGlzLm1pID0gbWk7DQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOw0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQogIH0NCg0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIGluQ09OTyA9IChtaS5pbi5nZXQoIkNPTk8iKSA9PSBudWxsKSA/IChJbnRlZ2VyKSBwcm9ncmFtLkxEQVpELkNPTk8gOiAoSW50ZWdlcikgbWkuaW4uZ2V0KCJDT05PIik7DQogICAgaW5XSExPID0gKG1pLmluLmdldCgiV0hMTyIpID09IG51bGwgfHwgbWkuaW4uZ2V0KCJXSExPIikuZXF1YWxzKCJudWxsIikpID8gIiIgOiAoU3RyaW5nKSBtaS5pbi5nZXQoIldITE8iKTsNCiAgICBpbklUTk8gPSAobWkuaW5EYXRhLmdldCgiSVROTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVROTyIpLmVxdWFscygibnVsbCIpKSA/ICIiIDogKFN0cmluZykgbWkuaW5EYXRhLmdldCgiSVROTyIpOw0KICAgIGluUkdEVCA9IChtaS5pbi5nZXQoIlJHRFQiKSA9PSBudWxsKSA/IDAgOiAoaW50KSBtaS5pbi5nZXQoIlJHRFQiKTsNCiAgICBpblJHVE0gPSAobWkuaW4uZ2V0KCJSR1RNIikgPT0gbnVsbCkgPyAwIDogKGludCkgbWkuaW4uZ2V0KCJSR1RNIik7DQogICAgaW5UTVNYID0gKG1pLmluLmdldCgiVE1TWCIpID09IG51bGwpID8gMCA6IChpbnQpIG1pLmluLmdldCgiVE1TWCIpOw0KICAgIGluVFJQUiA9IChtaS5pbi5nZXQoIlRSUFIiKSA9PSBudWxsKSA/IDAuMGYgOiAoZmxvYXQpIG1pLmluLmdldCgiVFJQUiIpOw0KICAgIGluTUZDTyA9IChtaS5pbi5nZXQoIk1GQ08iKSA9PSBudWxsKSA/IDAuMGYgOiAoZmxvYXQpIG1pLmluLmdldCgiTUZDTyIpOw0KICAgIGluQU5CUiA9IChtaS5pbi5nZXQoIkFOQlIiKSA9PSBudWxsKSA/IDAgOiAobG9uZykgbWkuaW4uZ2V0KCJBTkJSIik7DQogICAgaW5SRVNQID0gKG1pLmluRGF0YS5nZXQoIlJFU1AiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJFU1AiKS5lcXVhbHMoIm51bGwiKSkgPyAiIiA6IChTdHJpbmcpIG1pLmluRGF0YS5nZXQoIlJFU1AiKTsNCiAgICANCiAgICBEYXRlVGltZUZvcm1hdHRlciBmb3JtYXR0ZXIgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIik7DQoNCiAgICAvLyBDb21wYW55IFZhbGlkYXRpb24NCiAgICBEQkFjdGlvbiBkYmFDTU5ESVYgPSBkYXRhYmFzZS50YWJsZSgiQ01ORElWIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJDQ0NPTk8iKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbkNNTkRJViA9IGRiYUNNTkRJVi5nZXRDb250YWluZXIoKTsNCiAgICBjb25DTU5ESVYuc2V0KCJDQ0NPTk8iLCBpbkNPTk8pOw0KDQogICAgaWYgKCFkYmFDTU5ESVYucmVhZChjb25DTU5ESVYpKSB7DQogICAgICBtaS5lcnJvcigiVGhlIENvbXBhbnkgZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICAvLyBXYXJlaG91c2UgdmFsaWRhdGlvbg0KICAgIERCQWN0aW9uIGRiYU1JVEJBTCA9IGRhdGFiYXNlLnRhYmxlKCJNSVRCQUwiKS5zZWxlY3Rpb24oIk1CQ09OTyIsICJNQldITE8iLCAiTUJJVE5PIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb25NSVRCQUwgPSBkYmFNSVRCQUwuZ2V0Q29udGFpbmVyKCk7DQogICAgY29uTUlUQkFMLnNldCgiTUJDT05PIiwgaW5DT05PKTsNCiAgICBjb25NSVRCQUwuc2V0KCJNQldITE8iLCBpbldITE8pOw0KICAgIGNvbk1JVEJBTC5zZXQoIk1CSVROTyIsIGluSVROTyk7DQoNCiAgICBpZiAoIWRiYU1JVEJBTC5yZWFkKGNvbk1JVEJBTCkpIHsNCiAgICAgIG1pLmVycm9yKCJUaGUgV2FyZWhvdXNlIGRvZXMgbm90IGV4aXN0IiArIGluV0hMTyk7DQogICAgICByZXR1cm47DQogICAgfQ0KDQogICAgLy8gSXRlbSBOdW1iZXIgdmFsaWRhdGlvbg0KICAgIERCQWN0aW9uIGRiYU1JVE1BUyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk1NQ09OTyIsICJNTUlUTk8iKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbk1JVE1BUyA9IGRiYU1JVE1BUy5nZXRDb250YWluZXIoKTsNCiAgICBjb25NSVRNQVMuc2V0KCJNTUNPTk8iLCBpbkNPTk8pOw0KICAgIGNvbk1JVE1BUy5zZXQoIk1NSVROTyIsIGluSVROTyk7DQoNCiAgICBpZiAoIWRiYU1JVE1BUy5yZWFkKGNvbk1JVE1BUykpIHsNCiAgICAgIG1pLmVycm9yKCJUaGUgSXRlbSBOdW1iZXIgZG9lcyBub3QgZXhpc3QiICsgaW5JVE5PKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgDQogICAgLy8gVmFsaWRhdGlvbnMgZm9yIEVudHJ5IERhdGUuDQogICAgICBMb2NhbERhdGUgZW50cnlEYXRlOw0KICAgICAgaWYgKG1pLmluLmdldCgiUkdEVCIpID09IG51bGwpIHsNCiAgICAgICAgaW5SR0RUID0gMDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgU3RyaW5nIGlucHV0RGF0ZSA9IChpbnQpIG1pLmluLmdldCgiUkdEVCIpICsgIiI7IC8vIENvbnZlcnQgdG8gc3RyaW5nDQogICAgICAgICAgaWYgKGlucHV0RGF0ZS5sZW5ndGgoKSA9PSA2KSB7DQogICAgICAgICAgICAvLyBDb252ZXJ0IGZyb20gZGRNTXl5IHRvIHl5eXlNTWRkIGZvcm1hdA0KICAgICAgICAgICAgaW5wdXREYXRlID0gIjIwIiArIGlucHV0RGF0ZS5zdWJzdHJpbmcoNCwgNikgKyBpbnB1dERhdGUuc3Vic3RyaW5nKDIsIDQpICsgaW5wdXREYXRlLnN1YnN0cmluZygwLCAyKTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKGlucHV0RGF0ZS5sZW5ndGgoKSA9PSA1KXsNCiAgICAgICAgICAgIGlucHV0RGF0ZSA9ICIyMCIgKyBpbnB1dERhdGUuc3Vic3RyaW5nKDMsIDUpICsgaW5wdXREYXRlLnN1YnN0cmluZygxLCAzKSArICIwIitpbnB1dERhdGUuc3Vic3RyaW5nKDAsIDEpOw0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICBlbnRyeURhdGUgPSBMb2NhbERhdGUucGFyc2UoaW5wdXREYXRlLCBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpOw0KICAgICAgICAgIGluUkdEVCA9IEludGVnZXIucGFyc2VJbnQoZW50cnlEYXRlLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpKTsNCiAgICAgICAgICANCiAgICAgICAgfSBjYXRjaCAoRGF0ZVRpbWVQYXJzZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgRGF0ZSIpDQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9DQogICAgIA0KDQoNCiAgICBEYXRlVGltZUZvcm1hdHRlciBmb3JtYXR0ZXIxID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKTsNCiAgICAvLyBWYWxpZGF0aW9uIGZvciBFbnRyeSBUaW1lDQogICAgTG9jYWxUaW1lIGVudHJ5VGltZTsNCiAgICBpZiAobWkuaW4uZ2V0KCJSR1RNIikgPT0gbnVsbCkgew0KICAgICAgICBpblJHVE0gPSAwOw0KICAgIH0gZWxzZSB7DQogICAgICB0cnkgew0KICAgICAgICANCiAgICAgICAgU3RyaW5nIHJndG1WYWx1ZSA9IFN0cmluZy5mb3JtYXQoIiUwNmQiLCAoaW50KSBtaS5pbi5nZXQoIlJHVE0iKSk7DQogICAgICAgIGVudHJ5VGltZSA9IExvY2FsVGltZS5wYXJzZShyZ3RtVmFsdWUsIGZvcm1hdHRlcjEpOw0KICAgICAgICBpblJHVE0gPSBJbnRlZ2VyLnBhcnNlSW50KGVudHJ5VGltZS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkpOw0KICAgICAgIA0KICAgICAgfSBjYXRjaCAoRGF0ZVRpbWVQYXJzZUV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBUaW1lIikNCiAgICAgICAgcmV0dXJuOw0KDQogICAgICB9DQoNCiAgICB9DQoNCiAgICBEQkFjdGlvbiBkYmFNSVRUUkEgPSBkYXRhYmFzZS50YWJsZSgiTUlUVFJBIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJNVENPTk8iLCAiTVRXSExPIiwgIk1USVROTyIsICJNVFJHRFQiLCAiTVRSR1RNIiwgIk1UVE1TWCIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29uTUlUVFJBID0gZGJhTUlUVFJBLmdldENvbnRhaW5lcigpOw0KICAgIGNvbk1JVFRSQS5zZXQoIk1UQ09OTyIsIGluQ09OTyk7DQogICAgY29uTUlUVFJBLnNldCgiTVRXSExPIiwgaW5XSExPKTsNCiAgICBjb25NSVRUUkEuc2V0KCJNVElUTk8iLCBpbklUTk8pOw0KICAgIGNvbk1JVFRSQS5zZXQoIk1UUkdEVCIsIGluUkdEVCk7DQogICAgY29uTUlUVFJBLnNldCgiTVRSR1RNIiwgaW5SR1RNKTsNCiAgICBjb25NSVRUUkEuc2V0KCJNVFRNU1giLCBpblRNU1gpOw0KICAgDQogICAgQ2xvc3VyZTw/PiBVcGRNSVRUUkFDYWxsQmFjayA9IHsgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPg0KICAgDQogICAgICBpZiAobWkuaW4uZ2V0KCJBTkJSIikgIT0gbnVsbCkgew0KICAgICAgICANCiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiTVRBTkJSIiwgaW5BTkJSKTsNCiAgICAgIH0NCiAgICAgIGlmIChtaS5pbi5nZXQoIlRSUFIiKSAhPSBudWxsKSB7DQogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIk1UVFJQUiIsIGluVFJQUik7DQogICAgICB9DQogICAgICBpZiAobWkuaW4uZ2V0KCJNRkNPIikgIT0gbnVsbCkgew0KICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJNVE1GQ08iLCBpbk1GQ08pOw0KICAgICAgfQ0KDQogICAgICBpZiAobWkuaW4uZ2V0KCJSRVNQIikgIT0gbnVsbCkgew0KICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJNVFJFU1AiLCBpblJFU1ApOw0KICAgICAgfQ0KICAgICAgDQogICAgICBsb2NrZWRSZXN1bHQudXBkYXRlKCk7DQogICAgfTsNCg0KICAgIGlmICghZGJhTUlUVFJBLnJlYWRMb2NrKGNvbk1JVFRSQSwgVXBkTUlUVFJBQ2FsbEJhY2spKSB7DQogICAgICBtaS5lcnJvcigiVGhlIHJlY29yZCBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgfQ0KfQ0K"}}}